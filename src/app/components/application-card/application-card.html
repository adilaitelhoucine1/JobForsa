<!-- Application Card - Matches Job Card Style -->
<div class="bg-white rounded-2xl p-6 border border-gray-200 hover:shadow-lg transition-all">
  <!-- Header: Company Info + Status Badge -->
  <div class="flex items-center justify-between mb-3">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0">
        <span class="text-white font-bold">{{ getCompanyInitial() }}</span>
      </div>
      <span class="font-semibold text-gray-900 text-sm">{{ application?.company || 'Unknown Company' }}</span>
    </div>

    <!-- Status Badge -->
    <div class="status-badge px-3 py-1 rounded-md text-xs font-semibold border {{ getStatusColor() }}">
      {{ getStatusIcon() }} {{ application?.status }}
    </div>
  </div>

  <!-- Added Date & Location -->
  <div class="flex items-center justify-between mb-3">
    <p class="text-xs text-gray-600">
      <span class="font-semibold">Added</span> {{ getDaysAgo() }}
      @if (application?.location) {
        <span class="ml-2">â€¢ {{ application?.location }}</span>
      }
    </p>
    <p class="text-xs text-gray-500">{{ application?.apiSource }}</p>
  </div>

  <!-- Job Title -->
  <h2 class="text-2xl font-bold text-gray-900 mb-3 leading-tight">
    {{ application?.title || 'Application Title' }}
  </h2>

  <!-- Status Selector -->
  <div class="mb-4">
    <label class="block text-xs font-semibold text-gray-700 mb-2">
      Status:
    </label>
    <select
      [value]="application?.status"
      (change)="onStatusChange($any($event.target).value)"
      class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"
    >
      <option value="PENDING">â³ En attente</option>
      <option value="APPLIED">ğŸ“¤ Candidature envoyÃ©e</option>
      <option value="INTERVIEW">ğŸ’¼ Entretien</option>
      <option value="ACCEPTED">âœ… AcceptÃ©</option>
      <option value="REJECTED">âŒ RefusÃ©</option>
    </select>
  </div>

  <!-- Notes Section -->
  <div class="mb-6">
    <label class="block text-xs font-semibold text-gray-700 mb-2">
      ğŸ“ Notes personnelles:
    </label>
    <textarea
      [value]="application?.notes || ''"
      (blur)="onNotesBlur($any($event.target).value)"
      placeholder="Ajoutez vos notes ici (optionnel)..."
      class="notes-textarea w-full border border-gray-300 rounded-lg p-3 text-sm"
      rows="3"
    ></textarea>
  </div>

  <!-- Footer: Action Buttons -->
  <div class="flex justify-between gap-2 pt-4 border-t border-gray-200">
    <a
      [href]="application?.url || '#'"
      target="_blank"
      class="px-6 py-2.5 border-2 border-gray-900 text-gray-900 rounded-xl hover:bg-gray-100 transition-colors font-semibold text-sm whitespace-nowrap"
    >
      ğŸ”— View Job
    </a>
    <button
      (click)="onRemove()"
      class="px-6 py-2.5 border-2 border-red-500 text-red-500 rounded-xl hover:bg-red-50 transition-colors font-semibold text-sm whitespace-nowrap"
    >
      ğŸ—‘ï¸ Remove
    </button>
  </div>
</div>

