<!-- Job Card - Compact Horizontal Grid Style -->
<div class="bg-white rounded-2xl p-6 border border-gray-200 hover:shadow-lg transition-all">
  <!-- Header: Company Info + Save Button -->
  <div class="flex items-center justify-between mb-3">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0">
        <span class="text-white font-bold">{{ getCompanyInitial() }}</span>
      </div>
      <span class="font-semibold text-gray-900 text-sm">{{ job?.company || 'Unknown Company' }}</span>
    </div>
    <button
      (click)="toggleFavorite()"
      [disabled]="(isFavorite$ | async)"
      [ngClass]="{
        'text-red-500 cursor-not-allowed opacity-90': (isFavorite$ | async),
        'text-gray-300 hover:text-red-400 hover:bg-red-50 active:scale-95': !(isFavorite$ | async)
      }"
      class="transition-all duration-200 p-2 rounded-full"
      [attr.aria-label]="(isFavorite$ | async) ? 'Already in favorites' : 'Add to favorites'"
      [title]="(isFavorite$ | async) ? 'Already in favorites' : 'Add to favorites'"
    >
      <svg
        class="w-7 h-7 transition-all duration-200"
        [attr.fill]="(isFavorite$ | async) ? 'currentColor' : 'none'"
        stroke="currentColor"
        [attr.stroke-width]="(isFavorite$ | async) ? '0' : '2'"
        viewBox="0 0 24 24"
      >
        <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
      </svg>
    </button>
  </div>

  <!-- Posted Date, Location & Salary -->
  <div class="flex items-center justify-between mb-3">
    <p class="text-xs text-gray-600">
      <span class="font-semibold">Posted</span> {{ getDaysAgo()  }}
      @if (job?.location) {
        <span class="ml-2">• {{ job?.location }}</span>
      }
    </p>
    @if (job?.salary) {
      <p class="text-sm font-bold text-gray-900">{{ job?.salary }}</p>
    }
  </div>

  <!-- Job Title -->
  <h2 class="text-2xl font-bold text-gray-900 mb-3 leading-tight">
    {{ job?.title || 'Job Title' }}
  </h2>

  <!-- Description -->
  <p class="text-sm text-gray-700 mb-4 leading-relaxed line-clamp-2">
    {{ job?.description || 'No description available' }}
  </p>

  <!-- Tags -->
  <div class="flex gap-2 mb-6">
    <span class="px-3 py-1 bg-gray-200 text-gray-800 rounded-md text-xs font-medium">Government</span>
    <span class="px-3 py-1 bg-gray-200 text-gray-800 rounded-md text-xs font-medium">Full-time</span>
  </div>

  <!-- Footer: Action Buttons -->
  <div class="flex justify-between gap-2 pt-4 border-t border-gray-200">
    <a
      [href]="job?.url || '#'"
      target="_blank"
      class="px-6 py-2.5 border-2 border-gray-900 text-gray-900 rounded-lg hover:bg-gray-100 transition-colors font-semibold text-sm whitespace-nowrap"
    >
      Details
    </a>
    @if (isAuthenticated$ | async) {
      <a
        [href]="'/applications'"
        target="_blank"
        (click)="onApplyClick()"
        class="px-6 py-2.5 rounded-lg transition-all font-semibold text-sm whitespace-nowrap flex items-center gap-2 bg-white"
        [ngClass]="{
          'border-2 border-gray-900 text-gray-900 hover:border-gray-900': !(isTracked$ | async),
          'border-2 border-green-600 text-green-600 hover:border-green-600': (isTracked$ | async)
        }"
      >
        @if (isTracked$ | async) {
          <span>✓</span>
        }
        <span>Apply Now</span>
      </a>
    }
  </div>
</div>
